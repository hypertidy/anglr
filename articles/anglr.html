<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>anglr • anglr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="anglr">
<meta property="og:description" content="anglr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">anglr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/anglr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/anglr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>anglr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hypertidy/anglr/blob/HEAD/vignettes/anglr.Rmd" class="external-link"><code>vignettes/anglr.Rmd</code></a></small>
      <div class="hidden name"><code>anglr.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/anglr" class="external-link">anglr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in rgl.init(initValue, onlyNULL): RGL: unable to open X11 display</span></span>
<span><span class="co">#&gt; Warning: 'rgl.init' failed, running with 'rgl.useNULL = TRUE'.</span></span></code></pre></div>
<p>The anglr package is about <em>data structures</em> and <em>3D
visualization</em>.</p>
<p>Key aspects of data structures are:</p>
<ul>
<li>mesh-topology with a common vertex-pool for connected shapes.</li>
<li>line segments.</li>
<li>path-based geometry.</li>
<li>triangulated surfaces.</li>
<li>high-quality triangulations, meshes.</li>
<li>relational vs. structural forms.</li>
</ul>
<p>All of these aspects are related to ease of visualization and
flexibility. The anglr package extends the core <a href="https://hypertidy.github.io/silicate/" class="external-link">silicate data
structures</a> SC, SC0, PATH, PATH0, TRI, and TRI0 with models <a href="https://hypertidy.github.io/anglr/reference/DEL.html" class="external-link">DEL</a>, <a href="https://hypertidy.github.io/anglr/reference/DEL0.html" class="external-link">DEL0</a>
and <a href="https://hypertidy.github.io/anglr/reference/QUAD.html" class="external-link">QUAD</a>.
<code><a href="../reference/DEL.html">DEL()</a></code> and <code><a href="../reference/DEL0.html">DEL0()</a></code> provide high-quality
Delaunay-constrained edge-based triangulations for a wide variety of
inputs. Polygon layers can be triangulated into mesh structures while
maintaining all internal shape consistency and attribute metadata.
<code><a href="../reference/QUAD.html">QUAD()</a></code> provides an efficient representation of raster data,
it is quite experimental and only works within a limited set of
workflows in anglr.</p>
<p>There is no single best data structure for all applications, and so
as much as possible the models (SC, SC0, PATH, PATH0, TRI, TRI0, ARC,
DEL, DEL0, and QUAD) are interoperable and will endeavour to maintain
the input information and simply interpret it in terms of the desired
format. Not all pathways are possible or sensible, but it depends on the
required application and the form of the input data, so the key feature
is flexibility and control.</p>
<p>As well as the data structure models, anglr includes the following
visualization functions.</p>
<ul>
<li>[mesh_plot()] this is a 2D graphics plot of a mesh structure (an
example being a curvilinear raster, but simple polygon layers are also
supported)</li>
<li>[shade3d()] 3D surface plot from mesh</li>
<li>[persp3d()] 3D surface plot from mesh</li>
<li>[wire3d()] 3D line plot from mesh</li>
<li>[dot3d()] 3D point plot from mesh</li>
<li>[plot3d()] general 3D plot</li>
</ul>
<p>Each of these will attempt to convert any given input to an
appropriate type, not all are sensible but we have attempted to err on
the side of convenience.</p>
<div class="section level2">
<h2 id="print-format-of-silicateanglr-models">Print format of silicate/anglr models<a class="anchor" aria-label="anchor" href="#print-format-of-silicateanglr-models"></a>
</h2>
<p>Object, vertex, meta, and primitives and link tables for
<em>relational models</em>.</p>
<p>Embedded index list <code>topology_</code> for <em>structural
models</em>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/anglr" class="external-link">anglr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/silicate" class="external-link">silicate</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'silicate'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"minimal_mesh"</span>, package <span class="op">=</span> <span class="st">"silicate"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEL.html">DEL</a></span><span class="op">(</span><span class="va">minimal_mesh</span><span class="op">)</span></span>
<span><span class="co">#&gt; class       : DEL</span></span>
<span><span class="co">#&gt; type        : Primitive</span></span>
<span><span class="co">#&gt; vertices    : 14 (2-space)</span></span>
<span><span class="co">#&gt; primitives  : 20 (2-space)</span></span>
<span><span class="co">#&gt; crs         : NA</span></span>
<span></span>
<span><span class="fu"><a href="../reference/DEL0.html">DEL0</a></span><span class="op">(</span><span class="va">minimal_mesh</span><span class="op">)</span></span>
<span><span class="co">#&gt; class       : DEL0</span></span>
<span><span class="co">#&gt; type        : Primitive</span></span>
<span><span class="co">#&gt; vertices    : 14 (2-space)</span></span>
<span><span class="co">#&gt; primitives  : 14 (2-space)</span></span>
<span><span class="co">#&gt; crs         : NA</span></span></code></pre></div>
<p>A triangulation preserves its original polygon identity, plotting in
2D in the obvious way.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mesh_plot.html">mesh_plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/DEL.html">DEL</a></span><span class="op">(</span><span class="va">minimal_mesh</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="anglr_files/figure-html/plot-1.png" width="700"></p>
<p>But, because under the hood it is composed of simple primitives we
can address them by separate colours.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mesh0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEL.html">DEL</a></span><span class="op">(</span><span class="va">minimal_mesh</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mesh_plot.html">mesh_plot</a></span><span class="op">(</span><span class="va">mesh0</span>, col <span class="op">=</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">viridis</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">mesh0</span><span class="op">$</span><span class="va">triangle</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="anglr_files/figure-html/plot-triangles-1.png" width="700"></p>
<p>The density can be controlled by setting <code>max_area</code> (other
controls are available via arguments to [RTriangle::triangulate]). Note
that we now have new vertices that did not exist in the original polygon
layer, both internal to the surface of the polygon and along its
boundary. This is the “mesh-quality” aspect mentioned above.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mesh1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEL.html">DEL</a></span><span class="op">(</span><span class="va">minimal_mesh</span>, max_area <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mesh_plot.html">mesh_plot</a></span><span class="op">(</span><span class="va">mesh1</span>, col <span class="op">=</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">viridis</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">mesh1</span><span class="op">$</span><span class="va">triangle</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="anglr_files/figure-html/plot-denser-1.png" width="700"></p>
<p>In the silicate package, we only have access to ear-cutting
triangulations, with the <code><a href="../reference/TRI.QUAD.html">TRI()</a></code> or <code><a href="../reference/silicate-models.html">TRI0()</a></code>
function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tri0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TRI.QUAD.html">TRI</a></span><span class="op">(</span><span class="va">minimal_mesh</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mesh_plot.html">mesh_plot</a></span><span class="op">(</span><span class="va">tri0</span>, col <span class="op">=</span> <span class="fu">viridis</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">viridis</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">tri0</span><span class="op">$</span><span class="va">triangle</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="anglr_files/figure-html/TRI-mesh-1.png" width="700"></p>
<p>(Note that “high” or “low” quality of a triangulation really depends
on the requirements for the task, but this is a real mathematical
quantity with a strong theoretical basis).</p>
<p>For our purposes, primarily we want denser meshes because they will
look better in 3D when combined with other data that varies in z as well
as x-y.</p>
</div>
<div class="section level2">
<h2 id="plot-3d">Plot 3D<a class="anchor" aria-label="anchor" href="#plot-3d"></a>
</h2>
<p>The 3D plot functions are very flexible.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/wire3d.html">wire3d</a></span><span class="op">(</span><span class="va">mesh1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#rgl::snapshot3d("wire.png")</span></span></code></pre></div>
<div class="figure">
<img src="wire.png" title="Wire 3D" alt=""><p class="caption">wire 3d</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
